<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:tremn="http://java.sun.com/jsf/composite/components">
       
<h:form id="formContact">
	<p:panel>

		<tremn:globalMessages />

		<fieldset>
			<legend>Básicos</legend>
			
				<h:panelGrid columns="7" cellpadding="5">
					<h:panelGrid>
						<p:outputLabel for="inFirstName" value="Primeiro Nome" styleClass="req" />
						<p:inputText id="inFirstName" value="#{contactMB.contact.firstName}" size="30" required="true" />
						<p:message for="inFirstName" />
					</h:panelGrid>
				
					<h:panelGrid>
						<p:outputLabel for="inLastName" value="Sobrenome" styleClass="req" />
						<p:inputText id="inLastName" value="#{contactMB.contact.lastName}" size="40" required="true" />
						<p:message for="inLastName" />
					</h:panelGrid>


					<h:panelGrid>
						<p:outputLabel for="inGender" value="Sexo" styleClass="req" />
						<p:selectOneMenu id="inGender" value="#{contactMB.contact.gender}" required="true" >
							<f:selectItems value="#{enumHelper.genders}" var="genderVar" 
								itemValue="#{genderVar}" itemLabel="#{genderVar.description}" />
						</p:selectOneMenu>
						<p:message for="inGender" />
					</h:panelGrid>


					<h:panelGrid>
						<h:outputText value="Nascimento:" styleClass="req" />
					</h:panelGrid>

					<h:panelGrid>
						<p:outputLabel for="inBirthDay" value="Dia" styleClass="req" />
						<p:selectOneMenu id="inBirthDay" value="#{contactMB.contact.birthDay}" required="true" >
							<f:selectItems value="#{enumHelper.days}" var="dayVar" 
								itemValue="#{dayVar.index}" itemLabel="#{dayVar.index}" />
						</p:selectOneMenu>	
						<p:message for="inBirthDay" />
					</h:panelGrid>

					<h:panelGrid>
						<p:outputLabel for="inBirthMonth" value="Mês" styleClass="req" />
						<p:selectOneMenu id="inBirthMonth" value="#{contactMB.contact.birthMonth}" required="true"  >
							<f:selectItems value="#{enumHelper.months}" var="monthVar"
								itemValue="#{monthVar.index}" itemLabel="#{monthVar.description}" />
						</p:selectOneMenu>	
						<p:message for="inBirthMonth" />
					</h:panelGrid>

					<h:panelGrid>
						<p:outputLabel for="inBirthYear" value="Ano" styleClass="req" />
						<p:inputMask id="inBirthYear" mask="9999" value="#{contactMB.contact.birthYear}" size="5" required="true" />	
						<p:message for="inBirthYear" />
					</h:panelGrid>
						
				</h:panelGrid>

				<h:panelGrid columns="4" cellpadding="5">
					<h:panelGrid>
						<p:outputLabel for="inEmailP" value="Email Principal" styleClass="req" />
						<p:inputText id="inEmailP" value="#{contactMB.contact.emailPrincipal}" size="50" required="true" />
						<p:message for="inEmailP" />
					</h:panelGrid>

					<h:panelGrid>
						<p:outputLabel for="inEmailA" value="Email Alternativo" styleClass="" />
						<p:inputText id="inEmailA" value="#{contactMB.contact.emailAlternative}" size="50" />
						<p:message for="inEmailA" />
					</h:panelGrid>
				</h:panelGrid>
		</fieldset>

		<p:spacer height="10" />

		<fieldset>
			<legend>Endereço</legend>
			
			<h:panelGrid columns="4" cellpadding="5">
					<h:panelGrid>
						<p:outputLabel for="inAddType" value="Tipo de Logradouro" styleClass="req" />
						<p:selectOneMenu id="inAddType" value="#{contactMB.contact.address.addressType}" required="true" >
							<f:selectItems value="#{enumHelper.addressTypes}" var="typeVar" 
								itemValue="#{typeVar}" itemLabel="#{typeVar.description}" />
						</p:selectOneMenu>
						<p:message for="inAddType" />
					</h:panelGrid>

					<h:panelGrid>
						<p:outputLabel for="inStreet" value="Logradouro" styleClass="req" />
						<p:inputText id="inStreet" value="#{contactMB.contact.address.addressStreet}" size="50" required="true" />
						<p:message for="inStreet" />
					</h:panelGrid>
			
					<h:panelGrid>
						<p:outputLabel for="inNumber" value="Número" styleClass="req" />
						<p:inputText id="inNumber" value="#{contactMB.contact.address.addressNumber}" size="10" required="true" />
						<p:message for="inNumber" />
					</h:panelGrid>
			
					<h:panelGrid>
						<p:outputLabel for="inComp" value="Complemento"  />
						<p:inputText id="inComp" value="#{contactMB.contact.address.addressComplement}" size="20"  />
						<p:message for="inComp" />
					</h:panelGrid>
			</h:panelGrid>
			
			<h:panelGrid columns="4" cellpadding="5">
					<h:panelGrid>
						<p:outputLabel for="inDistrict" value="Bairro" />
						<p:inputText id="inDistrict" value="#{contactMB.contact.address.addressDistrict}" size="30" />
						<p:message for="inDistrict" />
					</h:panelGrid>
			
					<h:panelGrid>
						<p:outputLabel for="inCity" value="Cidade" styleClass="req" />
						<p:inputText id="inCity" value="#{contactMB.contact.address.addressCity}" size="30" required="true" />
						<p:message for="inCity" />
					</h:panelGrid>
			
					<h:panelGrid>
						<p:outputLabel for="inState" value="Estado"  />
						<p:inputText id="inState" value="#{contactMB.contact.address.addressState}" size="20"  />
						<p:message for="inState" />
					</h:panelGrid>

					<h:panelGrid>
						<p:outputLabel for="inZip" value="CEP"  />
						<p:inputMask id="inZip" mask="99.999-999" value="#{contactMB.contact.address.addressZipcode}" size="10"  />
						<p:message for="inZip" />
					</h:panelGrid>
			</h:panelGrid>
		
		</fieldset>

		<p:spacer height="10" />

		<fieldset>
			<legend>Telefones</legend>
			
			<h:panelGrid columns="4" cellpadding="5">
				<h:panelGrid>
					<p:outputLabel for="inRes" value="Residencial"  />
					<p:inputText id="inRes" value="#{contactMB.contact.telephone.telephoneResidential}" size="15"  />
					<p:message for="inRes" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inComm" value="Comercial"  />
					<p:inputText id="inComm" value="#{contactMB.contact.telephone.telephoneCommercial}" size="15"  />
					<p:message for="inComm" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inMobile1" value="Celular 1"  />
					<h:panelGrid columns="2">
						<p:inputText id="inMobile1" value="#{contactMB.contact.telephone.telephoneMobile1}" size="15"  />
						<p:selectOneMenu value="#{contactMB.contact.telephone.telephoneMobile1Company}">
							<f:selectItem itemLabel="" noSelectionOption="true" />
							<f:selectItems value="#{enumHelper.telephoneMobileCompanies}" var="companyVar" 
								itemValue="#{companyVar}" itemLabel="#{companyVar}" />
						</p:selectOneMenu>
					</h:panelGrid>
					<p:message for="inMobile1" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inMobile2" value="Celular 2"  />
					<h:panelGrid columns="2">
						<p:inputText id="inMobile2" value="#{contactMB.contact.telephone.telephoneMobile2}" size="15"  />
						<p:selectOneMenu value="#{contactMB.contact.telephone.telephoneMobile2Company}">
							<f:selectItem itemLabel="" noSelectionOption="true" />
							<f:selectItems value="#{enumHelper.telephoneMobileCompanies}" var="companyVar" 
								itemValue="#{companyVar}" itemLabel="#{companyVar}" />
						</p:selectOneMenu>
					</h:panelGrid>
					<p:message for="inMobile2" />
				</h:panelGrid>
			</h:panelGrid>
		</fieldset>
	

		<p:spacer height="10" />

		<fieldset>
			<legend>Documentos</legend>
			
			<h:panelGrid columns="3" cellpadding="5">
				<h:panelGrid>
					<p:outputLabel for="inCpf" value="CPF" />
					<p:inputMask id="inCpf" mask="999.999.999-99" value="#{contactMB.contact.document.documentCPF}" size="15" />
					<p:message for="inCpf" />
				</h:panelGrid>
			
				<h:panelGrid>
					<p:outputLabel for="inRG" value="RG"  />
					<p:inputText id="inRG" value="#{contactMB.contact.document.documentRG}" size="20"  />
					<p:message for="inRG" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inPass" value="Passaporte"  />
					<p:inputText id="inPass" value="#{contactMB.contact.document.documentPassport}" size="20"  />
					<p:message for="inPass" />
				</h:panelGrid>
			</h:panelGrid>
		</fieldset>

		<p:spacer height="10" />

		<fieldset>
			<legend>Informações Adicionais</legend>
			
			<h:panelGrid columns="5" cellpadding="5">
				<h:panelGrid>
					<p:outputLabel for="inProf" value="Profissão" styleClass="req" />
					<p:selectOneMenu id="inProf" value="#{contactMB.contact.profession}" required="true" >
						<f:selectItem itemLabel="" noSelectionOption="true" />
						<f:selectItems value="#{enumHelper.professions}" var="profVar"
							itemValue="#{profVar}" itemLabel="#{profVar.description}" />
					</p:selectOneMenu>
					<p:message for="inProf" />
				</h:panelGrid>
				
				<h:panelGrid>
					<p:outputLabel for="inCompany" value="Empresa em que trabalha"  />
					<p:inputText id="inCompany" value="#{contactMB.contact.company.companyName}" size="20" />
					<p:message for="inCompany" />
				</h:panelGrid>
				
				<h:panelGrid>
					<p:outputLabel for="inComFunction" value="Cargo"  />
					<p:inputText id="inComFunction" value="#{contactMB.contact.company.companyFunction}" size="10" />
					<p:message for="inComFunction" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inParCat" value="Categoria de Participação" styleClass="req" />
					<p:selectOneMenu id="inParCat" value="#{contactMB.contact.participationCategory}" required="true" >
						<f:selectItems value="#{enumHelper.participationCategories}" var="catVar"
							itemValue="#{catVar}" itemLabel="#{catVar.description}" />
					</p:selectOneMenu>
					<p:message for="inParCat" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inQuem" value="Indicado por" />
					<p:autoComplete id="inQuem" value="#{contactMB.contact.contactWhoIndicated}" converter="#{contactConverter}"
						completeMethod="#{contactMB.completeContact}" var="contactVar"
						itemValue="#{contactVar}" itemLabel="#{contactVar.fullName}"
						size="30" dropdown="true" queryDelay="500" minQueryLength="2" scrollHeight="200" >
							<p:column headerText="Nome completo">
								#{contactVar.fullName}
							</p:column>
							
							<p:column headerText="Email Principal">
								#{contactVar.emailPrincipal}
							</p:column>

							<p:column headerText="Cidade">
								#{contactVar.address.addressCity}
							</p:column>
					</p:autoComplete>
					<h:outputText value="(use primeiro ou último nome ou cidade)" styleClass="less1" />
					<p:message for="inQuem" />
				</h:panelGrid>
			</h:panelGrid>
			
			
			<h:panelGrid columns="4" cellpadding="5">
				<h:panelGrid>
					<p:outputLabel for="inFacebook" value="Facebook"  />
					<p:inputText id="inFacebook" value="#{contactMB.contact.socialNetwork.socialFacebook}" size="30" />
					<p:message for="inFacebook" />
				</h:panelGrid>
				
				<h:panelGrid>
					<p:outputLabel for="inTwitter" value="Twitter"  />
					<p:inputText id="inTwitter" value="#{contactMB.contact.socialNetwork.socialTwitter}" size="30" />
					<p:message for="inTwitter" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inLinkedin" value="LinkedIn"  />
					<p:inputText id="inLinkedin" value="#{contactMB.contact.socialNetwork.socialLinkedIn}" size="30" />
					<p:message for="inLinkedin" />
				</h:panelGrid>

				<h:panelGrid>
					<p:outputLabel for="inGooglePlus" value="Google+"  />
					<p:inputText id="inGooglePlus" value="#{contactMB.contact.socialNetwork.socialGooglePlus}" size="30" />
					<p:message for="inGooglePlus" />
				</h:panelGrid>
			</h:panelGrid>
		</fieldset>
	</p:panel>

	<p:toolbar>
		<p:toolbarGroup>
			<p:commandButton icon="ui-icon-check" value="Salvar Contato" 
				action="#{contactMB.save()}"
				update="@form :formContacts :regionContact"
				oncomplete="if (args.sucessOnly) PF('DialogContact').hide();"
				/>
		</p:toolbarGroup>
		
		<p:toolbarGroup align="right" rendered="#{not contactMB.contact.transient}">
			<p:menuButton value="remover?">
				<p:menuitem icon="ui-icon-trash" value="Sim, remover" 
					process="@this"
					action="#{contactMB.remove()}"
					update="@form :formContacts :regionContact"
					oncomplete="if (args.sucessOnly) PF('DialogContact').hide();"
					/>
				<p:menuitem icon="ui-icon-close" value="Não" 
					process="@none"
					global="false"
					/>
			</p:menuButton>
		</p:toolbarGroup>
	</p:toolbar>
</h:form>

</ui:fragment>